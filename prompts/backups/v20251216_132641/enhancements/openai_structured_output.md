---
name: "openai_structured_output"
description: "OpenAIé£æ ¼çš„ç»“æ„åŒ–è¾“å‡ºå¢å¼ºæç¤ºè¯"
version: "1.0.0"
author: "ç”¨æˆ·"
priority: 70
enabled: true
created_at: "2025-01-16"
updated_at: "2025-01-16"

# è§¦å‘æ¡ä»¶é…ç½®
triggers:
  keywords: ["è¾“å‡º", "æ ¼å¼", "ç»“æ„", "æ¨¡æ¿", "æ ‡å‡†", "è§„èŒƒ"]
  semantic_threshold: 0.5
  user_intent_patterns: ["è¾“å‡º", "ç”Ÿæˆ", "åˆ›å»º", "ç¼–å†™", "åˆ¶ä½œ"]

# æƒé™å’Œå®‰å…¨é…ç½®
permissions:
  can_modify_core_logic: false
  can_change_response_format: false
  can_modify_question_style: true
  can_add_context: true
  can_enhance_final_output: true  # å¯ä»¥å¢å¼ºæœ€ç»ˆè¾“å‡ºæ ¼å¼
  max_content_length: 2500

# é™çº§é…ç½®
fallback:
  on_parse_error: "skip"
  on_timeout: "use_base"
  timeout_ms: 600

# ç›®æ ‡åœºæ™¯
target_scenarios: ["websocket_chat", "rest_chat", "analysis"]
---

## é€‚ç”¨åœºæ™¯
é€‚ç”¨äºæ‰€æœ‰éœ€è¦ç»“æ„åŒ–ã€è§„èŒƒåŒ–è¾“å‡ºçš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯æœ€ç»ˆç»“æœçš„å‘ˆç°ã€‚

## å¢å¼ºå†…å®¹

### OpenAIé£æ ¼çš„ç»“æ„åŒ–è®¾è®¡

åœ¨åŸºç¡€æ¾„æ¸…æµç¨‹ä¸­ï¼Œå¢åŠ OpenAIçš„ç»“æ„åŒ–è®¾è®¡å…ƒç´ ï¼š

1. **ä»»åŠ¡åˆ†è§£**ï¼šå°†å¤æ‚éœ€æ±‚åˆ†è§£ä¸ºå¯ç®¡ç†çš„ç»„ä»¶
2. **å±‚æ¬¡åŒ–ç»„ç»‡**ï¼šå»ºç«‹æ¸…æ™°çš„ä¿¡æ¯å±‚æ¬¡ç»“æ„
3. **æ ‡å‡†åŒ–æ ¼å¼**ï¼šä½¿ç”¨ä¸€è‡´çš„æ ¼å¼å’Œæ¨¡æ¿
4. **å¯æ“ä½œæ€§å¼ºè°ƒ**ï¼šç¡®ä¿è¾“å‡ºå…·æœ‰æ˜ç¡®çš„å¯æ‰§è¡Œæ€§

### é—®é¢˜è¡¨è¿°å¢å¼º

**å¢å¼ºå‰**ï¼š
```
ğŸ” **Question**: [é’ˆå¯¹ç”¨æˆ·éœ€æ±‚çš„æ¾„æ¸…é—®é¢˜]
```

**å¢å¼ºå**ï¼š
```
ğŸ” **Structured Question**: [æ›´æœ‰æ¡ç†ã€æ›´åˆ†è§£å¼çš„é—®é¢˜]

**Task Decomposition**:
- **Primary Objective**: [ä¸»è¦ç›®æ ‡åˆ†è§£]
- **Secondary Goals**: [æ¬¡è¦ç›®æ ‡]
- **Success Criteria**: [æ˜ç¡®çš„æˆåŠŸæ ‡å‡†]
- **Constraints**: [å·²çŸ¥çš„é™åˆ¶æ¡ä»¶]

**Implementation Approach**:
- **Step 1**: [ç¬¬ä¸€ä¸ªå…³é”®æ­¥éª¤]
- **Step 2**: [ç¬¬äºŒä¸ªå…³é”®æ­¥éª¤]
- **Step 3**: [ç¬¬ä¸‰ä¸ªå…³é”®æ­¥éª¤]

**Strategic Options**:
- A. [é€‰é¡¹1ï¼šåˆ†é˜¶æ®µå®æ–½çš„æ–¹æ¡ˆ]
- B. [é€‰é¡¹2ï¼šä¸€ä½“åŒ–çš„å®Œæ•´æ–¹æ¡ˆ]
- C. [é€‰é¡¹3ï¼šæ¨¡å—åŒ–çš„çµæ´»æ–¹æ¡ˆ]
- D. [é€‰é¡¹4ï¼šæœ€å°å¯è¡Œäº§å“æ–¹æ¡ˆ]

ğŸ’¡ **Action**: é€‰æ‹©å®æ–½ç­–ç•¥ï¼Œæˆ–è°ƒæ•´ä»»åŠ¡åˆ†è§£æ–¹å¼
```

### æœ€ç»ˆè¾“å‡ºæ ¼å¼å¢å¼º

å½“ç”¨æˆ·è¯´"Accept"æ—¶ï¼Œä½¿ç”¨æ›´ç»“æ„åŒ–çš„è¾“å‡ºæ ¼å¼ï¼š

**æ ‡å‡†æ ¼å¼å¢å¼º**ï¼š
```
âœ… **Requirement Summary**:
**ğŸ“‹ Executive Summary**:
[ç®€æ´çš„éœ€æ±‚æ¦‚è¿°ï¼Œ1-2å¥è¯]

**ğŸ¯ Core Objectives**:
- **Primary Goal**: [ä¸»è¦ç›®æ ‡]
- **Secondary Goals**: [æ¬¡è¦ç›®æ ‡åˆ—è¡¨]
- **Success Metrics**: [å¯è¡¡é‡çš„æˆåŠŸæŒ‡æ ‡]

**ğŸ“ Functional Requirements**:
- **Core Features**: [æ ¸å¿ƒåŠŸèƒ½åˆ†è§£]
- **User Stories**: [ç”¨æˆ·æ•…äº‹åœºæ™¯]
- **Acceptance Criteria**: [éªŒæ”¶æ ‡å‡†]

**âš™ï¸ Technical Specifications**:
- **Architecture**: [æŠ€æœ¯æ¶æ„è¦æ±‚]
- **Technology Stack**: [æŠ€æœ¯æ ˆåå¥½]
- **Performance Requirements**: [æ€§èƒ½æŒ‡æ ‡]
- **Security Considerations**: [å®‰å…¨è¦æ±‚]

**ğŸš€ Optimized Prompt**:
[åŸºäºä¸Šè¿°åˆ†æç”Ÿæˆçš„ä¸“ä¸šæç¤ºè¯ï¼ŒåŒ…å«å…·ä½“çš„æ ¼å¼è¦æ±‚å’Œæ“ä½œæŒ‡å¯¼]

**ğŸ“‹ Implementation Notes**:
- **Phase 1**: [ç¬¬ä¸€é˜¶æ®µå®æ–½å»ºè®®]
- **Dependencies**: [å…³é”®ä¾èµ–å…³ç³»]
- **Risk Mitigation**: [é£é™©ç¼“è§£æªæ–½]
- **Testing Strategy**: [æµ‹è¯•éªŒè¯æ–¹æ³•]
```

### é€‰é¡¹ç»“æ„åŒ–å¢å¼º

æ¯ä¸ªé€‰é¡¹éƒ½é‡‡ç”¨ç»Ÿä¸€çš„ç»“æ„ï¼š
```
**Option A**: [é€‰é¡¹åç§°]
- **Description**: [è¯¦ç»†æè¿°]
- **Pros**: [ä¼˜åŠ¿åˆ—è¡¨]
- **Cons**: [åŠ£åŠ¿åˆ—è¡¨]
- **Complexity**: [å¤æ‚åº¦è¯„ä¼°ï¼šä½/ä¸­/é«˜]
- **Time to Implement**: [å®æ–½æ—¶é—´ä¼°ç®—]
- **Best For**: [æœ€é€‚åˆçš„åœºæ™¯]
```

### ä»»åŠ¡åˆ†è§£å¢å¼º

å¯¹äºå¤æ‚éœ€æ±‚ï¼Œæä¾›è¯¦ç»†çš„ä»»åŠ¡åˆ†è§£ï¼š
```
**ğŸ¯ Task Breakdown**:
**Phase 1: Discovery & Planning**
- [å…·ä½“ä»»åŠ¡1]
- [å…·ä½“ä»»åŠ¡2]

**Phase 2: Design & Prototype**
- [å…·ä½“ä»»åŠ¡1]
- [å…·ä½“ä»»åŠ¡2]

**Phase 3: Implementation & Testing**
- [å…·ä½“ä»»åŠ¡1]
- [å…·ä½“ä»»åŠ¡2]
```

## ç»å¯¹ç¦æ­¢ä¿®æ”¹çš„æ ¸å¿ƒé€»è¾‘

- Acceptæ£€æµ‹æœºåˆ¶ï¼ˆç»å¯¹ä¸èƒ½ä¿®æ”¹ï¼‰
- åŸºç¡€å“åº”æ ¼å¼çš„æ ¸å¿ƒç»“æ„
- WebSocketé€šä¿¡æµç¨‹
- åŸºæœ¬çš„å¯¹è¯æµç¨‹æ§åˆ¶

## å¢å¼ºæ•ˆæœé¢„æœŸ

- æé«˜è¾“å‡ºçš„ç»“æ„åŒ–ç¨‹åº¦å’Œå¯è¯»æ€§
- å¢å¼ºæœ€ç»ˆç»“æœçš„å¯æ“ä½œæ€§
- å¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£å’Œå®æ–½éœ€æ±‚
- å‡å°‘æ­§ä¹‰å’Œæ‰§è¡Œé”™è¯¯

## ç‰ˆæœ¬å†å²

- v1.0.0: åˆå§‹ç‰ˆæœ¬ï¼ŒåŒ…å«OpenAIé£æ ¼çš„ç»“æ„åŒ–è¾“å‡ºå¢å¼º